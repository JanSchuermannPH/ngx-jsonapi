{"version":3,"file":"resource-functions.js","sourceRoot":"","sources":["../../src/services/resource-functions.ts"],"names":[],"mappings":";;;;AAGA,MAAM;;;;;;IACK,MAAM,CAAC,kBAAkB,CAC5B,MAAgB,EAChB,WAAqB;QAErB,WAAW,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;;QAG3C,GAAG,CAAC,CAAC,qBAAI,UAAU,IAAI,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACxC,OAAO,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aAChD;YAAC,IAAI,CAAC,CAAC;;gBAEJ,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACxD,GAAG,CAAC,CAAC,qBAAI,EAAE,IAAI,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACxD,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BACjD,OAAO,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;yBAChD;qBACJ;iBACJ;aACJ;SACJ;;QAGD,GAAG,CAAC,CAAC,qBAAI,UAAU,IAAI,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,IAAI,IAAI,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChD,WAAW,CAAC,eAAe,mBACb,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,GAC/C,UAAU,CACb,CAAC;aACL;YAAC,IAAI,CAAC,CAAC;gBACJ,WAAW,CAAC,gBAAgB,mBACX,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,GAClD,UAAU,CACb,CAAC;aACL;SACJ;;CAER","sourcesContent":["import { ICollection } from '../interfaces';\nimport { Resource } from '../resource';\n\nexport class ResourceFunctions {\n    public static resourceToResource(\n        source: Resource,\n        destination: Resource\n    ): void {\n        destination.attributes = source.attributes;\n\n        // remove relationships on destination resource\n        for (let type_alias in destination.relationships) {\n            if (!(type_alias in source.relationships)) {\n                delete destination.relationships[type_alias];\n            } else {\n                // this resource is a collection?\n                if (!('id' in destination.relationships[type_alias].data)) {\n                    for (let id in destination.relationships[type_alias].data) {\n                        if (!(id in source.relationships[type_alias].data)) {\n                            delete destination.relationships[type_alias];\n                        }\n                    }\n                }\n            }\n        }\n\n        // add source relationships to destination\n        for (let type_alias in source.relationships) {\n            if ('id' in source.relationships[type_alias].data) {\n                destination.addRelationship(\n                    <Resource>source.relationships[type_alias].data,\n                    type_alias\n                );\n            } else {\n                destination.addRelationships(\n                    <ICollection>source.relationships[type_alias].data,\n                    type_alias\n                );\n            }\n        }\n    }\n}\n"]}